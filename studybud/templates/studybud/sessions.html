{% extends 'studybud/base.html' %}
{% block content %}
<style>
h1{
    color: black;
    font-size: 70px;
    }
    p{
    color: black;
    font-size: 30px;
    }
    a{

    }
    *{
    color: black;
    }
</style>
    {% comment %} <li class ="list-group-item bg-transparent list-group-item-success"><a href = "{% url 'submitSession' %}">Post a study Session</a> {% endcomment %}
    <div class="d-grid gap-2 d-md-block text-center">
        <h1 class="text-center" style="margin-bottom: 25px;">Welcome, {{user.username}}</h1>
        <a class="btn btn-dark " href="{% url 'submitSession' %}" role="button" style="margin-bottom: 10px;">Find a New Session</a>
    </div>
    <div class="row justify-content-center text-center">
        <form role="form" name="selectCourse" method="get" action="{% url 'sessions' %}">
            {% csrf_token %}
            <select id="course" name="course"  >
                <option value="all" selected>All</option>
                {% for course in courses %}
                    <option name ="course" value={{course.id}}>{{course.subject}} {{course.catalog_number}}</option>                       
                {% endfor %}
            </select>
            <button type="submit" class="btn btn-dark" style="margin-top: 20px; margin-bottom: 20px" value="Submit">Submit</button>
        </form> 
    </div>
    {% if session_list %}
        <div class="row justify-content-center" >
            <div class="col-5">
                 <div class="text-center">
                </div>
                {% for session in session_list %}
                    <div class="row session"
                         onclick="location.href='{% url 'sessionDetail' session.id %}'">
                        <div class="row">
                            <div class="col">
                                <h4>{{ session.course }}</h4>
                            </div>
                            <div class="col-7">
                                <p class="text-center">
                                    {{ session.date }} @ {{ session.location }}
                                </p>
                            </div>
                            <div class="col-2">

                                <form name="signUp" method="post" action="{% url 'signUp' %}">
                                    {% csrf_token %}
                                    <input type="hidden" name="sessionid" value={{session.id}} />
                                    <input class="btn btn-dark float-end" type="submit" value="Sign up"/>
                                </form>
                            </div>
                           
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <br>
            <p class="text-center">
                There are currently no scheduled study sessions.
            </p>
        {% endif %}
    </div>
{% endblock %}
